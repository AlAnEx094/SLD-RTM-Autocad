# TASK: DB-ENGINEER (MVP-0.1)

Цель: спроектировать и реализовать БД-слой SQLite для MVP-0.1 согласно архитектуре (DB = истина, GUID на сущностях, ввод отдельно от расчёта, изменения только через миграции).

## Deliverables

- `db/migrations/0001_init.sql`
  - создаёт таблицы проекта
  - создаёт `kr_table` по контракту (PK `(ne, ki)`)
  - создаёт таблицу учёта применённых миграций (например `schema_migrations`)
  - создаёт таблицы ввода/расчёта для одного щита (GUID как `TEXT`)
  - добавляет индексы/FOREIGN KEY (в разумных пределах)
- `db/seed_kr_table.sql`
  - минимальный seed для `kr_table`
  - **обязательно**: строка `ne=4`, столбцы `ki` в диапазоне `0.70..0.80` (для тестов интерполяции)
  - **обязательно**: крайние значения `ki=0.10` и `ki=0.80` (для тестов clamp)
  - допускается частичное заполнение на MVP (остальное — TODO/заглушки)
- `db/schema.sql`
  - агрегированный “слепок” схемы (на базе миграций)

## Acceptance criteria

- Миграция `0001_init.sql` выполняется на пустой базе без ошибок.
- Таблица `kr_table` соответствует контракту:
  - столбцы `(ne INT, ki REAL, kr REAL, source TEXT)`
  - PK `(ne, ki)`
- Seed выполняется без ошибок и создаёт достаточные данные для тестов `Kr`.

## Notes

- Не смешивать ввод и расчёт: отдельные таблицы/сущности.
- Не “придумывать” поля, которые относятся к DWG/AutoCAD — только точки расширения при необходимости.

